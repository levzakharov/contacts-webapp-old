import React from 'react';import {Panel, Table, Button} from 'react-bootstrap';import {LinkContainer} from 'react-router-bootstrap';import {connect} from 'react-redux';import {getRecords, deleteRecord} from '../actions/records';const propTypes = {    authentication: React.PropTypes.shape({        isAuthenticated: React.PropTypes.bool.isRequired,        token: React.PropTypes.string    })};class Contacts extends React.Component {    constructor(props) {        super(props);        this.getRecords = this.getRecords.bind(this);        this.removeRecord = this.removeRecord.bind(this);    }    componentDidMount() {        this.getRecords();        this.interval = setInterval(this.getRecords, 1000);    }    componentWillUnmount() {        clearInterval(this.interval);    }    getRecords() {        this.props.getRecords(this.props.authentication.token);    }    removeRecord(id) {        this.props.deleteRecord(this.props.authentication.token, id);    }    render() {        const {data} = this.props.records;        const addLink = (            <LinkContainer to="/contacts/add">                <Button bsStyle="primary">Add new contact</Button>            </LinkContainer>        );        return (            <div>                <h1>Contacts</h1>                <Panel>                    {this.props.children || addLink}                </Panel>                <Table striped bordered condensed hover>                    <thead>                    <tr>                        <th>Name</th>                        <th>Phone</th>                        <th></th>                    </tr>                    </thead>                    {data && (                        <tbody>                        {data.map(person => (                            <tr key={person.id}>                                <td>{person.name}</td>                                <td>{person.phone}</td>                                <td><Button onClick={() => this.removeRecord(person.id)}>X</Button></td>                            </tr>                        ))}                        </tbody>                    )}                </Table>            </div>        )    }}function mapStateToProps(state) {    const {authentication, records} = state;    return {        authentication,        records    };}Contacts.propTypes = propTypes;export default connect(mapStateToProps, {getRecords, deleteRecord})(Contacts);